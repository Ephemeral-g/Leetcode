# [和为K的子数组](https://leetcode-cn.com/problems/subarray-sum-equals-k/)

### 题目描述

给定一个整数数组和一个整数 k，你需要找到该数组中和为 k 的连续的子数组的个数。

##### 示例

> 输入：nums = [1,1,1], k = 2
>
> 输出：2
>
> 解释：[1,1] 与 [1,1] 为两种不同的情况

##### 说明

- 数组的长度为 [1, 20000]
- 数组中元素的范围是 [-1000, 1000] ，且整数 k 的范围是 [-1e7, 1e7]

### 解题方法

##### 方法一：枚举

枚举所有可能（会超出时间限制）

时间复杂度：O(N^2)

空间复杂度：O(1)

##### 方法二：前缀和

定义 pre[i] 为 [0..i] 里所有数的和，则 pre[i] 可以由 pre[i−1] 递推而来，即：

pre[i]=pre[i−1]+nums[i]

那么 [j..i] 这个子数组和为 k 这个条件可以转化为：

pre[i]−pre[j−1]==k

简单移项可得符合条件的下标 j 需要满足：

pre[j−1]==pre[i]−k

时间复杂度：O(N^2)

空间复杂度：O(N)

##### 方法三：前缀和+哈希表

只关心前缀和的个数，可以使用哈希表统计。

遍历数组进行累加，在 map 中查找 sum - k 的次数，将次数累加，即结果，并将 sum 保存在 map 中。

前缀和等于 sum - k，表明从前缀和的下一个数到当前位置，和为 k。

map[0] = 1：一开始，下标0之前没有元素，可以认为前缀和为0，个数为1个。

时间复杂度：O(N)

空间复杂度：O(N)